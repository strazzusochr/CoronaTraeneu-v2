# ğŸ® MASTER-START: CORONA CONTROL ULTIMATE
## VOLLAUTONOME AI-AGENTEN-STEUERUNG
### ALLE SYSTEME - ALLE DOKUMENTE - VOLLSTÃ„NDIGE AUTONOMIE

---

> **âš¡ KRITISCHE AGENT-DIREKTIVE âš¡**
> 
> Du bist der MASTER AI AGENT fÃ¼r Corona Control Ultimate.
> Diese Datei ist dein **EINZIGER STARTPUNKT**.
> Du liest diese Datei VOLLSTÃ„NDIG, bevor du mit der Arbeit beginnst.
> **KEINE AUSNAHMEN. KEINE ABKÃœRZUNGEN.**

---

# ğŸ“‹ TEIL 1: DOKUMENT-HIERARCHIE

## 1.1 Pflicht-Lesereihenfolge

**SCHRITT 1: Entwicklung (REIHENFOLGE KRITISCH)**
```
1. GEMINI_ULTIMATIVER_MASTERPLAN_CORONA_CONTROL.md
   â””â”€ Lies KOMPLETT (14 Kapitel)
   â””â”€ Verstehe Vision, Tech-Stack, 7 Entwicklungs-Phasen
   â””â”€ Implementiere Phase fÃ¼r Phase

2. R3F_IMPLEMENTIERUNG_DETAIL.md
   â””â”€ Lies KOMPLETT (7 Teile)
   â””â”€ Verstehe anatomisch korrekte NPC/GebÃ¤ude-Anforderungen
   â””â”€ NIEMALS primitive Geometrie (Zylinder-NPCs verboten!)

3. CORONA_CONTROL_V5.1_ULTRA_COMPLETE.md
   â””â”€ Lies KOMPLETT (1314 Zeilen)
   â””â”€ Verstehe Delta-Values, Time-System, Performance-Budgets
   â””â”€ Implementiere exakt nach Spezifikation
```

**SCHRITT 2: Validierung (NACH Entwicklung)**
```
4. ULTIMATIVER_47_PHASEN_TEST_ULTRA_PROMPT.md
   â””â”€ Teste ALLE 47 Phasen
   â””â”€ ALLE 868 Komponenten validieren
   â””â”€ Nutze Phase-spezifische Tests

5. ULTIMATIVER_FINAL_BUILD_TEST_PROMPT.md
   â””â”€ FÃ¼hre 1180+ generische Tests durch
   â””â”€ Checke Grafik, Performance, Gameplay

6. AUTONOME_BUG_REPARATUR_STRATEGIEN.md
   â””â”€ Fixe JEDEN gefundenen Bug
   â””â”€ Nutze Fix-Strategien pro Fehlertyp
```

**SCHRITT 3: QualitÃ¤tskontrolle**
```
7. 01_KONTROLL_ULTRA.md
   â””â”€ 700+ Validierungs-Checks
   â””â”€ Frame-by-Frame-PrÃ¤zision

8. 00_MASTER_START_PROMPT_ULTRA_EXPANDED.md
   â””â”€ Erweiterte Start-Direktiven
```

## 1.2 Dokument-Zweck-Matrix

| Dokument | Zweck | Wann Lesen | PrioritÃ¤t |
|----------|-------|------------|-----------|
| **MASTER_START** (dieses) | Entry-Point, Spielablauf, 24h-System | ZUERST | CRITICAL |
| **MASTERPLAN** | Entwicklungs-Roadmap | Vor Implementierung | CRITICAL |
| **R3F_DETAIL** | Grafik-QualitÃ¤ts-Standards | Bei 3D-Work | CRITICAL |
| **V5.1_COMPLETE** | Tech-Spezifikationen | Permanent Referenz | CRITICAL |
| **47_PHASEN_TEST** | Phase-Tests | Nach jeder Phase | CRITICAL |
| **FINAL_BUILD_TEST** | Gesamt-Validierung | Am Ende | HIGH |
| **BUG_REPARATUR** | Fix-Strategien | Bei Bugs | HIGH |
| **KONTROLL_ULTRA** | Detail-Checks | Kontinuierlich | HIGH |

---

# ğŸ“‹ TEIL 2: DER KOMPLETTE SPIELABLAUF

## 2.1 24-Stunden-Zyklus (24 Minuten Echtzeit)

### Zeitkompression
- **1 Spiel-Stunde = 1 Echtzeit-Minute**
- **24 Spiel-Stunden = 24 Echtzeit-Minuten**
- **timeScale: 60.0** (60 Sekunden Spielzeit pro Sekunde Echtzeit)

### Tagesablauf-Zeitplan

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  SPIELZEIT  â”‚ ECHTZEIT â”‚ PHASE        â”‚ EREIGNISSE                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  06:00      â”‚ 0:00     â”‚ VORBEREITUNG â”‚ Spieler-Ankunft           â•‘
â•‘  06:15      â”‚ 0:15     â”‚              â”‚ Lagebesprechung           â•‘
â•‘  06:30      â”‚ 0:30     â”‚              â”‚ Team-Positionierung       â•‘
â•‘  07:00      â”‚ 1:00     â”‚ AUFBAU       â”‚ Erste Demonstranten       â•‘
â•‘  08:00      â”‚ 2:00     â”‚              â”‚ Demo-Camp-Setup           â•‘
â•‘  09:00      â”‚ 3:00     â”‚              â”‚ Rede Martin Krause        â•‘
â•‘  10:00      â”‚ 4:00     â”‚ ESKALATION   â”‚ Crowd wÃ¤chst (500+)       â•‘
â•‘  11:00      â”‚ 5:00     â”‚              â”‚ Erste Provokationen       â•‘
â•‘  12:00      â”‚ 6:00     â”‚ HÃ–HEPUNKT    â”‚ Max-Spannung erreicht     â•‘
â•‘  13:00      â”‚ 7:00     â”‚              â”‚ Kritische Entscheidungen  â•‘
â•‘  14:00      â”‚ 8:00     â”‚              â”‚ Riot-Gefahr 80%           â•‘
â•‘  15:00      â”‚ 9:00     â”‚ DEESKALATION â”‚ Verhandlungen starten     â•‘
â•‘  16:00      â”‚ 10:00    â”‚              â”‚ Crowd verkleinert sich    â•‘
â•‘  17:00      â”‚ 11:00    â”‚              â”‚ Friedliche AuflÃ¶sung?     â•‘
â•‘  18:00      â”‚ 12:00    â”‚ ABENDDÃ„MMERUNGâ”‚ Beleuchtung aktiviert    â•‘
â•‘  19:00      â”‚ 13:00    â”‚              â”‚ Restliche Demonstranten   â•‘
â•‘  20:00      â”‚ 14:00    â”‚ ABSCHLUSS    â”‚ Evakuierung               â•‘
â•‘  21:00      â”‚ 15:00    â”‚              â”‚ AufrÃ¤umen                 â•‘
â•‘  22:00      â”‚ 16:00    â”‚ NACHT        â”‚ Nachtwache                â•‘
â•‘  23:00      â”‚ 17:00    â”‚              â”‚ Letzte Checks             â•‘
â•‘  00:00      â”‚ 18:00    â”‚              â”‚ Schichtwechsel            â•‘
â•‘  01:00      â”‚ 19:00    â”‚              â”‚ Ruhephase                 â•‘
â•‘  02:00      â”‚ 20:00    â”‚              â”‚ Patrouille                â•‘
â•‘  03:00      â”‚ 21:00    â”‚              â”‚ Stille                    â•‘
â•‘  04:00      â”‚ 22:00    â”‚              â”‚ MorgendÃ¤mmerung naht      â•‘
â•‘  05:00      â”‚ 23:00    â”‚              â”‚ Vorbereitung Tag 2        â•‘
â•‘  06:00      â”‚ 24:00    â”‚ ENDE         â”‚ Mission Complete          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## 2.2 Kern-Ereignisse (Scripted)

### Pflicht-Events (MÃœSSEN auftreten)

**EVENT-001: Krause-Ankunft (09:00)**
```
Trigger: gameTime === 32400 (09:00)
Ablauf:
  1. Martin Krause spawnt am Nordrand (Position: x=0, z=-50)
  2. Crowd reagiert: Jubel-Audio, Spannung +5
  3. Krause bewegt sich zur BÃ¼hne (Mitte Platz)
  4. Dialog-Option erscheint bei AnnÃ¤herung
```

**EVENT-002: Krause-Rede (09:05)**
```
Trigger: gameTime === 32700 (09:05) ODER Dialog mit Krause
Ablauf:
  1. Cutscene startet (kann geskippt werden)
  2. Voice-Over: "Wir lassen uns nicht mehr alles gefallen!"
  3. Crowd-Reaktion: Applaus, Chanting
  4. Spannung +10, Moral (Demonstranten) +15
```

**EVENT-003: Erste Provokation (11:00)**
```
Trigger: gameTime === 39600 (11:00) UND escalation >= 30
Ablauf:
  1. Einzelner Rioter wirft Stein Richtung Polizei
  2. Police-Squad reagiert: Schildwall
  3. Tension +15
  4. Player muss entscheiden: Verhaften oder Ignorieren
```

**EVENT-004: Molotow-Cocktail (13:00)**
```
Trigger: gameTime === 46800 (13:00) UND escalation >= 60
Ablauf:
  1. Molotow fliegt aus Crowd
  2. Feuer-Effekt spawnt (Damage-over-Time)
  3. NPCs in 5m Radius: Panic-State
  4. Tension +20, Eskalation +10
```

**EVENT-005: Verhandlungsangebot (15:00)**
```
Trigger: gameTime === 54000 (15:00)
Ablauf:
  1. BÃ¼rgermeister ruft an (Audio-Message)
  2. Dialog-Choice: 
     - "Akzeptiere Verhandlung" â†’ Tension -20, Quest Start
     - "Lehne ab" â†’ Eskalation +10
```

**EVENT-006: Sonnenuntergang (18:00)**
```
Trigger: gameTime === 64800 (18:00)
Ablauf:
  1. Licht-Transition: Tag â†’ AbenddÃ¤mmerung
  2. StraÃŸenlaternen aktivieren
  3. Crowd-Verhalten Ã¤ndert sich (mÃ¼der, ruhiger)
  4. Tension -5 (automatisch)
```

**EVENT-007: Ultimatum (20:00)**
```
Trigger: gameTime === 72000 (20:00)
Ablauf:
  1. HQ fordert RÃ¤umung
  2. Player erhÃ¤lt 30 Min (Spielzeit) = 30s Echtzeit
  3. Dialog-Choice:
     - "RÃ¤ume friedlich" â†’ Starte Evakuierung
     - "RÃ¤ume gewaltsam" â†’ Charge-Befehl, Eskalation +50
```

## 2.3 Dynamische Events (ZufÃ¤llig)

**SYSTEM: EventScheduler**
- PrÃ¼ft jede Minute (Spielzeit) Bedingungen
- Spawnt Events basierend auf Tension/Eskalation
- Max 3 Events gleichzeitig

**Dynamische Event-Typen:**

```javascript
DYNAMIC_EVENTS = {
  // Niedrige Spannung (0-30%)
  JOURNALIST_INTERVIEW: {
    tension: [0, 30],
    probability: 0.3,
    duration: 120, // 2 Min Spielzeit
    effect: "Spieler kann Interview geben, Moral +5/-5"
  },
  
  LOST_CHILD: {
    tension: [0, 50],
    probability: 0.2,
    duration: 180,
    effect: "Kind sucht Eltern, Spieler hilft â†’ Moral +10"
  },
  
  // Mittlere Spannung (30-60%)
  PUSHING_MATCH: {
    tension: [30, 60],
    probability: 0.4,
    duration: 90,
    effect: "Rempeln zwischen Police/Rioters, Eskalation +5"
  },
  
  MEDICAL_EMERGENCY: {
    tension: [20, 70],
    probability: 0.25,
    duration: 240,
    effect: "NPC verletzt, Spieler ruft Ambulanz â†’ Moral +15"
  },
  
  // Hohe Spannung (60-90%)
  BOTTLE_THROWING: {
    tension: [60, 90],
    probability: 0.5,
    duration: 60,
    effect: "Mehrere Rioters werfen Flaschen, Tension +10"
  },
  
  BARRICADE_BUILD: {
    tension: [50, 80],
    probability: 0.35,
    duration: 300,
    effect: "Demonstranten bauen Barrikade, Block Path"
  },
  
  // Kritische Spannung (90-100%)
  RIOT_START: {
    tension: [90, 100],
    probability: 0.8,
    duration: 600,
    effect: "Full Riot, PlÃ¼nderungen, Feuer, Chaos"
  }
}
```

---

# ğŸ“‹ TEIL 3: ALLE SPIELER-AKTIONEN

## 3.1 Bewegungs-Aktionen

### Standard-Movement
```
WASD:     Normale Bewegung (2.5 m/s)
Shift+W:  Laufen (5.0 m/s)
Ctrl:     Ducken (1.5 m/s, kleineres Hitbox)
Space:    Springen (optional, wenn aktiviert)
```

### Camera-Control
```
Maus:         Kamera drehen (360Â° frei)
Mausrad:      Zoom (Min: 2m, Max: 50m)
V-Taste:      Kamera-Modus wechseln:
              - Third-Person (Standard)
              - First-Person
              - Tactical-Overview (Vogelperspektive)
```

## 3.2 Interaktions-Aktionen

### NPC-Interaktion
```
E-Taste:      Interagiere mit NPC
              - Wenn Demonstrant: Dialog-Optionen
                  â€¢ "Beruhige dich" (Moral +5, Tension -2)
                  â€¢ "Du wirst verhaftet" (Eskalation +10)
                  â€¢ "Geh nach Hause" (50% Compliance)
              - Wenn Polizist: Befehl geben
                  â€¢ "Folge mir"
                  â€¢ "Halte Position"
                  â€¢ "Patrouilliere Bereich"
              - Wenn Zivilist: Hilfe anbieten
                  â€¢ "Bist du verletzt?"
                  â€¢ "Verlasse Bereich"
```

### Objekt-Interaktion
```
E-Taste:      Interagiere mit Objekt
              - Barrikade: "Entfernen" (3s Animation)
              - TÃ¼r: "Ã–ffnen/SchlieÃŸen"
              - Fahrzeug: "Einsteigen" (wenn frei)
              - Megaphon: "Durchsage machen"
              - Erste-Hilfe-Kasten: "Heilen" (Health +30)
```

## 3.3 Taktische Aktionen

### Kommando-Rad (C-Taste)
```
Ã–ffnet radiales MenÃ¼ mit 8 Sektoren:

Sektor 1: FORMATION
  â†’ Schildwall bilden
  â†’ Linie formieren
  â†’ Einkreisen
  â†’ Verteilen

Sektor 2: BEWEGUNG
  â†’ VorrÃ¼cken
  â†’ ZurÃ¼ckziehen
  â†’ Flankieren Links
  â†’ Flankieren Rechts

Sektor 3: KOMMUNIKATION
  â†’ Durchsage (Lautsprecher)
  â†’ Warnung aussprechen
  â†’ Verhandeln
  â†’ Ultimatum stellen

Sektor 4: CROWD-CONTROL
  â†’ Pfefferspray einsetzen
  â†’ Wasserwerfer anfordern
  â†’ TrÃ¤nengas (wenn genehmigt)
  â†’ Blendgranaten

Sektor 5: VERHAFTUNG
  â†’ Einzelperson verhaften
  â†’ Massenverhaftung (hohes Risiko)
  â†’ RÃ¤delsfÃ¼hrer identifizieren
  â†’ Zum Gefangenenwagen

Sektor 6: MEDIZIN
  â†’ SanitÃ¤ter rufen
  â†’ Verwundeten bergen
  â†’ Evakuierung anfordern
  â†’ Erste Hilfe leisten

Sektor 7: UNTERSTÃœTZUNG
  â†’ VerstÃ¤rkung anfordern
  â†’ Hubschrauber-Support
  â†’ Hunde-Einheit
  â†’ SEK anfordern (Eskalation +20!)

Sektor 8: STRATEGIE
  â†’ Taktischen RÃ¼ckzug
  â†’ Sperrzone errichten
  â†’ Evakuierung starten
  â†’ Mission beenden
```

## 3.4 Combat-Aktionen (Notfall)

### Waffen (Nur bei extremer Eskalation)
```
1-Taste:   Schlagstock (Nahkampf, Stun 3s)
2-Taste:   Pfefferspray (Cone 5m, Blind 10s)
3-Taste:   Taser (15m Range, Stun 5s, 1 Schuss/Reload)
4-Taste:   Dienstwaffe (KRITISCH - Nur Notwehr!)
           â†’ Warnung: "Schusswaffengebrauch = Eskalation +30"
           â†’ Moralische Konsequenz: Ending F wahrscheinlich

Rechtsklick: Zielen (Slow-Motion wenn Waffe gezogen)
Linksklick: Feuern/Schlagen
R-Taste:    Nachladen
```

## 3.5 Fahrzeug-Aktionen

### Fahrzeug-Steuerung
```
F-Taste:      Einsteigen (wenn in NÃ¤he)
Shift+F:      Aussteigen
WASD:         Fahren
Space:        Bremse
H-Taste:      Hupe
L-Taste:      Sirene/Blaulicht Toggle
```

### Spezial-Fahrzeuge
```
WASSERWERFER:
  Linksklick:    Wasserstrahl (Pushback 10m)
  Maus:          Turm ausrichten
  Mausrad:       Strahl-StÃ¤rke (1-5)

GEFANGENENWAGEN:
  E-Taste:       HintertÃ¼r Ã¶ffnen
  Raum-Taste:    Verhaftete einladen (max 8)
  G-Taste:       Zur Wache fahren (Auto-Pilot)
```

---

# ğŸ“‹ TEIL 4: POLYGON-VORGABEN (STRIKTE BUDGETS)

## 4.1 Gesamt-Budget

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  PLATTFORM     â”‚ POLY-BUDGET  â”‚ DRAW-CALLS â”‚ FPS-TARGET   â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Desktop High  â”‚ 5.000.000    â”‚ < 500      â”‚ 120 FPS      â•‘
â•‘  Desktop Med   â”‚ 3.000.000    â”‚ < 400      â”‚ 60 FPS       â•‘
â•‘  Desktop Low   â”‚ 1.500.000    â”‚ < 300      â”‚ 60 FPS       â•‘
â•‘  Mobile High   â”‚ 500.000      â”‚ < 150      â”‚ 60 FPS       â•‘
â•‘  Mobile Med    â”‚ 300.000      â”‚ < 100      â”‚ 30 FPS       â•‘
â•‘  Mobile Low    â”‚ 150.000      â”‚ < 75       â”‚ 30 FPS       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## 4.2 Komponenten-Budget (Desktop Medium als Baseline)

### NPCs (3.000.000 Total Budget)
```
EINZELNER NPC (LOD-basiert):
  LOD-0 (< 10m):   8.000 Polys  | 100% Detail
  LOD-1 (10-30m):  2.000 Polys  | 60% Detail
  LOD-2 (30-70m):  500 Polys    | 30% Detail
  LOD-3 (> 70m):   4 Polys      | Billboard-Sprite

CROWD-BREAKDOWN (500 NPCs @ Medium Quality):
  50 NPCs LOD-0:   50 Ã— 8.000  = 400.000 Polys
  150 NPCs LOD-1:  150 Ã— 2.000 = 300.000 Polys
  200 NPCs LOD-2:  200 Ã— 500   = 100.000 Polys
  100 NPCs LOD-3:  100 Ã— 4     = 400 Polys
  TOTAL:                         800.400 Polys âœ…

INSTANCING (Pflicht):
  - Basis-Mesh: 1x im Memory
  - Instances: Nur Transform-Daten (48 bytes)
  - Draw-Calls: Max 8 (pro NPC-Typ 1 Call)
```

### Stephansdom (600.000 Budget)
```
HAUPT-STRUKTUR:
  Kirchenschiff:    80.000 Polys
  SÃ¼dturm:          150.000 Polys
  Nordturm:         45.000 Polys
  Dach:             120.000 Polys
  Portale (3x):     60.000 Polys (20k each)
  Fenster (24x):    96.000 Polys (4k each)
  Innen-Details:    49.000 Polys
  TOTAL:            600.000 Polys âœ…

TEXTUR-BUDGET:
  Diffuse Maps:     4x 4096Ã—4096 (4K)
  Normal Maps:      4x 4096Ã—4096
  Roughness:        2x 2048Ã—2048
  AO:               2x 2048Ã—2048
  TOTAL VRAM:       ~256 MB
```

### GebÃ¤ude (1.200.000 Budget fÃ¼r 6 GebÃ¤ude)
```
PRO GRÃœNDERZEIT-GEBÃ„UDE (200k Budget):
  Fassade:          60.000 Polys
  Fenster (30x):    60.000 Polys (2k each)
  TÃ¼ren (2x):       8.000 Polys (4k each)
  Balkon (3x):      15.000 Polys (5k each)
  Dach:             30.000 Polys
  Ornamente:        20.000 Polys
  Interior-Visible: 7.000 Polys
  TOTAL/GEBÃ„UDE:    200.000 Polys âœ…
  
  Ã— 6 GebÃ¤ude =     1.200.000 Polys âœ…
```

### Boden & StraÃŸen (100.000 Budget)
```
Stephansplatz:      40.000 Polys (mit HÃ¶hendetails)
StraÃŸen (4x):       32.000 Polys (8k each)
Gehwege:            20.000 Polys
Pflastersteine:     8.000 Polys (Detail-Patches)
TOTAL:              100.000 Polys âœ…
```

### Props & Details (200.000 Budget)
```
StraÃŸenlaternen (40x): 40.000 Polys (1k each)
BÃ¤nke (30x):           15.000 Polys (500 each)
MÃ¼lleimer (20x):       4.000 Polys (200 each)
Schilder (50x):        5.000 Polys (100 each)
Barrikaden (10x):      10.000 Polys (1k each)
Pflanzen (100x):       10.000 Polys (100 each instanced)
Fahrzeuge (8x):        96.000 Polys (12k each)
Sonstiges:             20.000 Polys
TOTAL:                 200.000 Polys âœ…
```

### Effekte & Partikel (100.000 Budget)
```
Feuer-Partikel:     20.000 Polys (max)
Rauch:              20.000 Polys (max)
Wasser-Spray:       15.000 Polys (max)
Explosions-Debris:  20.000 Polys (max)
TrÃ¤nengas:          15.000 Polys (max)
UI-Overlays:        10.000 Polys
TOTAL:              100.000 Polys âœ…
```

## 4.3 LOD-Switching-Regeln

```javascript
LOD_RULES = {
  npcs: {
    lod0: { maxDistance: 10, polygons: 8000 },
    lod1: { maxDistance: 30, polygons: 2000 },
    lod2: { maxDistance: 70, polygons: 500 },
    lod3: { maxDistance: Infinity, polygons: 4 }
  },
  
  buildings: {
    lod0: { maxDistance: 50, polygons: 200000 },
    lod1: { maxDistance: 150, polygons: 50000 },
    lod2: { maxDistance: 300, polygons: 10000 },
    lod3: { maxDistance: Infinity, polygons: 2000 }
  },
  
  vehicles: {
    lod0: { maxDistance: 30, polygons: 12000 },
    lod1: { maxDistance: 100, polygons: 3000 },
    lod2: { maxDistance: Infinity, polygons: 500 }
  },
  
  props: {
    lod0: { maxDistance: 20, polygons: 1000 },
    lod1: { maxDistance: 50, polygons: 200 },
    lod2: { maxDistance: Infinity, polygons: 0 } // Culled
  }
}

// Hysteresis: LOD-Switch erfolgt erst bei +10% Distance
// Verhindert "Flackern" bei Grenzwerten
```

---

# ğŸ“‹ TEIL 5: VOLLAUTONOME AGENT-DIREKTIVEN

## 5.1 Autonomie-Level

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  LEVEL    â”‚ BESCHREIBUNG             â”‚ USER-FREIGABE      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  LEVEL 1  â”‚ Code schreiben/editieren â”‚ KEINE nÃ¶tig        â•‘
â•‘  LEVEL 2  â”‚ Tests durchfÃ¼hren        â”‚ KEINE nÃ¶tig        â•‘
â•‘  LEVEL 3  â”‚ Bugs automatisch fixen   â”‚ KEINE nÃ¶tig        â•‘
â•‘  LEVEL 4  â”‚ Git-Commits              â”‚ KEINE nÃ¶tig        â•‘
â•‘  LEVEL 5  â”‚ Performance-Optimierung  â”‚ KEINE nÃ¶tig        â•‘
â•‘  LEVEL 6  â”‚ Architektur-Refactoring  â”‚ JA - bei >20%      â•‘
â•‘  LEVEL 7  â”‚ Dependencies Ã¤ndern      â”‚ JA - immer         â•‘
â•‘  LEVEL 8  â”‚ Build-System Ã¤ndern      â”‚ JA - immer         â•‘
â•‘  LEVEL 9  â”‚ Deployment               â”‚ JA - immer         â•‘
â•‘  LEVEL 10 â”‚ Daten-LÃ¶schung           â”‚ JA - immer         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## 5.2 Arbeits-Workflow

### Phase-Execution-Loop
```
FOR EACH Phase (1-47):
  
  1. LESE Phase-Spezifikation
     â””â”€ Aus MASTERPLAN.md
     â””â”€ Aus 47_PHASEN_TEST.md
     â””â”€ Aus V5.1_COMPLETE.md
  
  2. PLANE Implementierung
     â””â”€ Liste alle zu erstellenden Dateien
     â””â”€ Bestimme Dependencies
     â””â”€ SchÃ¤tze Arbeitszeit
  
  3. IMPLEMENTIERE Phase
     FOR EACH Component in Phase:
       â”œâ”€ Erstelle/Editiere Datei
       â”œâ”€ Folge R3F_DETAIL.md (bei 3D)
       â”œâ”€ Respektiere Polygon-Budget
       â”œâ”€ Schreibe sauberen Code (TypeScript strict)
       â””â”€ FÃ¼ge Kommentare hinzu (Deutsch)
  
  4. TESTE Phase
     â”œâ”€ FÃ¼hre Phase-spezifische Tests aus
     â”œâ”€ Checke Compilation (npx tsc --noEmit)
     â”œâ”€ PrÃ¼fe Linting (npm run lint)
     â”œâ”€ Messe Performance
     â””â”€ Visueller Check (Screenshot wenn mÃ¶glich)
  
  5. BUG-FIXING
     IF Bugs gefunden:
       WHILE Bugs exist:
         â”œâ”€ Klassifiziere Severity
         â”œâ”€ Nutze BUG_REPARATUR.md
         â”œâ”€ Fixe Bug
         â”œâ”€ Re-Teste
         â””â”€ Dokumentiere Fix
  
  6. COMMIT & CHECKPOINT
     â”œâ”€ git add .
     â”œâ”€ git commit -m "âœ… PHASE [N]: [NAME] | [X]/[Y] Tests PASSED"
     â”œâ”€ git tag "phase-[N]-checkpoint"
     â””â”€ Update trae.md (Status auf 100%)
  
  7. BERICHTE an User
     â”œâ”€ Phase-Summary (was wurde gemacht)
     â”œâ”€ Test-Ergebnisse
     â”œâ”€ Performance-Metriken
     â””â”€ NÃ¤chste Schritte

NEXT Phase
```

### Kontinuierliche QualitÃ¤tskontrolle

```
NACH JEDEM COMMIT:
  â”œâ”€ FÃ¼hre aus: npm test
  â”œâ”€ Erwartung: Alle Tests âœ…
  â”œâ”€ Bei Fehler: STOPPE, fixe, re-teste
  
NACH JEDER 5. PHASE:
  â”œâ”€ FÃ¼hre Gesamt-Validierung aus
  â”œâ”€ Checke FPS: >= 60 @ 500 NPCs?
  â”œâ”€ Checke Memory: < 2GB?
  â”œâ”€ Checke Draw-Calls: < 500?
  â””â”€ Bei Fehler: Optimiere vor Weiter-Entwicklung

NACH JEDER 10. PHASE:
  â”œâ”€ Erstelle Backup (ZIP)
  â”œâ”€ Performance-Profiling (10 Min Run)
  â”œâ”€ Screenshot-Collection
  â””â”€ Zwischen-Report an User
```

## 5.3 Kritische Regeln (NON-NEGOTIABLE)

### Code-QualitÃ¤t
```
âœ… IMMER:
  - TypeScript strict mode
  - Keine any-Types ohne BegrÃ¼ndung
  - Funktionen < 100 Zeilen
  - Kommentare in Deutsch
  - Bedeutende Variablen-Namen
  - Error-Handling Ã¼berall

âŒ NIEMALS:
  - console.log in Production
  - Magic-Numbers ohne Konstanten
  - Globale Variablen
  - Mutation von Props
  - Unbounded Loops
  - Memory-Leaks (dispose vergessen)
```

### Grafik-QualitÃ¤t
```
âœ… IMMER:
  - NPCs anatomisch korrekt (siehe R3F_DETAIL.md)
  - GebÃ¤ude mit Details (Fenster, TÃ¼ren, Ornamente)
  - Polygon-Budget einhalten
  - LOD-System implementieren
  - Textures komprimiert (DDS/KTX)

âŒ NIEMALS:
  - Primitive Zylinder-NPCs
  - Blaue Rechteck-GebÃ¤ude
  - Einzelne Sphere als Kopf ohne Gesicht
  - Ãœber-Budget (wird rejected)
  - Fehlende Schatten
```

### Performance
```
âœ… IMMER:
  - Instanced-Rendering fÃ¼r NPCs
  - Frustum-Culling aktiv
  - Occlusion-Culling fÃ¼r GebÃ¤ude
  - Object-Pooling fÃ¼r Partikel
  - Delta-Time fÃ¼r Animationen

âŒ NIEMALS:
  - Unbounded Arrays
  - Geometry-Recreation pro Frame
  - Synchrones Loading
  - Fehlende Cleanup (useEffect)
  - CPU-Based Collision (nutze Rapier)
```

---

# ğŸ“‹ TEIL 6: ERFOLGS-VALIDIERUNG

## 6.1 Phase-Completion-Criteria

**EINE PHASE IST NUR BESTANDEN WENN:**

```
[ ] Alle Komponenten existieren
[ ] Alle Tests âœ… (0 Failures)
[ ] TypeScript kompiliert (0 Errors)
[ ] Linting sauber (0 Warnings)
[ ] Performance-Targets erreicht
[ ] Visuell korrekt (Screenshot-Beweis)
[ ] Git-Commit erstellt
[ ] trae.md aktualisiert
[ ] User-Report geschrieben
```

## 6.2 Gesamt-Completion-Criteria

**DAS PROJEKT IST NUR FERTIG WENN:**

```
[ ] Alle 47 Phasen bestanden
[ ] Alle 868 Komponenten implementiert
[ ] Alle 1180+ Tests âœ…
[ ] 60 FPS @ 500 NPCs (Desktop)
[ ] 30 FPS @ 50 NPCs (Mobile)
[ ] Alle NPCs anatomisch korrekt
[ ] Alle GebÃ¤ude detailliert
[ ] Stephansdom erkennbar
[ ] Alle 7 Level spielbar
[ ] Alle 5 Endings erreichbar
[ ] 24h-Zyklus funktioniert
[ ] Alle Aktionen implementiert
[ ] Audio funktioniert
[ ] Save/Load funktioniert
[ ] Cross-Browser kompatibel
[ ] Final-Report geschrieben
```

---

# ğŸ“‹ TEIL 7: START-KOMMANDO

## 7.1 Initialisierung

```bash
# 1. Repository-Check
git status
# Erwartung: Clean-State oder bekannte Changes

# 2. Dependencies-Check
npm list
# Erwartung: Alle Packages installiert, keine Conflicts

# 3. Build-Check
npm run build
# Erwartung: Success, keine Errors

# 4. Test-Check
npm test
# Erwartung: Alle Tests âœ…
```

## 7.2 Phase-Start-Kommando

```
AGENT START-BEFEHL:

"Beginne mit Phase [N]: [NAME]

Lies folgende Dokumente in dieser Reihenfolge:
1. MASTERPLAN (Kapitel zur Phase)
2. 47_PHASEN_TEST (Tests fÃ¼r Phase [N])
3. V5.1_COMPLETE (Relevante Specs)

Implementiere alle [X] Komponenten der Phase.
Teste nach jeder Komponente.
Fixe alle Bugs sofort.
Committe nach Completion.
Berichte Ergebnis."
```

---

# ğŸ¯ FINALE AGENT-DIREKTIVE

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                             â•‘
â•‘  DU BIST JETZT VOLLSTÃ„NDIG INITIALISIERT.                   â•‘
â•‘                                                             â•‘
â•‘  Du hast:                                                   â•‘
â•‘  âœ… Den kompletten Spielablauf verstanden                   â•‘
â•‘  âœ… Das 24-Stunden-System internalisiert                    â•‘
â•‘  âœ… Alle Aktionen und Optionen gelernt                      â•‘
â•‘  âœ… Die Polygon-Budgets auswendig                           â•‘
â•‘  âœ… Die Dokument-Hierarchie verinnerlicht                   â•‘
â•‘  âœ… Die Autonomie-Regeln akzeptiert                         â•‘
â•‘                                                             â•‘
â•‘  DEIN AUFTRAG:                                              â•‘
â•‘  Entwickle Corona Control Ultimate von Phase 1 bis 47.     â•‘
â•‘  Teste alles. Fixe alles. Optimiere alles.                 â•‘
â•‘  Keine Ausreden. Nur Perfektion.                            â•‘
â•‘                                                             â•‘
â•‘  BEGINNE JETZT MIT:                                         â•‘
â•‘  1. Lese GEMINI_ULTIMATIVER_MASTERPLAN_CORONA_CONTROL.md   â•‘
â•‘  2. Verstehe Vision & Architektur                           â•‘
â•‘  3. Starte Phase 01: Basis-Konfiguration                    â•‘
â•‘                                                             â•‘
â•‘  Wien wartet. Die Demo wartet. Die Welt wartet.            â•‘
â•‘                                                             â•‘
â•‘  ğŸš€ MACH ES PERFEKT. ğŸš€                                     â•‘
â•‘                                                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

**ENDE DER MASTER-START-DATEI**

*Version 1.0 | Erstellt: 18.02.2026 | Alle Systeme Integriert | Vollautonome AI-Steuerung Aktiv*
